# AssociatePhysicalConnectionToVirtualBorderRouter {#doc_api_Vpc_AssociatePhysicalConnectionToVirtualBorderRouter .reference}

Associates a Virtual Border Router \(VBR\) with a physical connection.

## Debug {#api_explorer .section}

[Use OpenAPI Explorer to perform debug operations and generate SDK code examples.](https://api.aliyun.com/#product=Vpc&api=AssociatePhysicalConnectionToVirtualBorderRouter&type=RPC&version=2016-04-28)

## Request parameters {#parameters .section}

|Parameter|Type|Required?|Example value|Description|
|---------|----|---------|-------------|-----------|
|Action|String|Yes|AssociatePhysicalConnectionToVirtualBorderRouter| The name of this action.

 Value: **AssociatePhysicalConnectionToVirtualBorderRouter**

 |
|PhysicalConnectionId|String|Yes|pc-bp1qrb3044eqixog\*\*\*\*| The ID of the physical connection.

 |
|RegionId|String|Yes|cn-hangzhou| The region ID of the physical connection.

 |
|VbrId|String|Yes|vbr-bp186tnz6rijyhj\*\*\*\*\*\*| The ID of the VBR.

 |
|VlanId|String|Yes|123| The VLAN ID of the VBR.

 Value range: 1 to 2999

 **Note:** Only the owner of the physical connection can specify this parameter. The VLAN IDs of two VBRs in the same physical connection must be different.

 |
|CircuitCode|String|No|longtel001| Optional. The leased line code provided by the service provider for the physical connection.

 **Note:** This parameter can only be specified by the owner of the physical connection.

 |
|ClientToken|String|No|02fb3da4-130e-11e9-8e44-00xxxxxxxx| Optional. The client token used to guarantee the idempotence of the request.

 The value of this parameter is generated by the client. The value is unique among different requests and 1 to 64 ASCII characters in length.

 |
|LocalGatewayIp|String|No|10.10.0.1| Optional. The Alibaba Cloud-side IP address used by the VBR.

 |
|PeerGatewayIp|String|No|10.10.10.9| Optional. The customer-side IP address used by the VBR.

 This parameter can only be specified or modified by the VBR owner. You cannot change the value of this parameter to null for a VBR in the Enabled state.

 |
|PeeringSubnetMask|String|No|255.255.255.0| Optional. The subnet mask of the Alibaba Cloud-side IP address and the customer-side IP address.

 The two IP addresses must belong to the same subnet.

 |

## Response parameters {#resultMapping .section}

|Parameter|Type|Example value|Description|
|---------|----|-------------|-----------|
|RequestId|String|980960B0-2969-40BF-8542-EBB34FD358AB| The request ID.

 |

## Examples {#demo .section}

Request example

``` {#request_demo}

http(s)://[Endpoint]/? Action=AssociatePhysicalConnectionToVirtualBorderRouter
&PhysicalConnectionId= pc-bp1qrb3044eqixog****
&RegionId=cn-hangzhou
&VbrId=vbr-bp186tnz6rijyhj******
&VlanId=123
&<CommonParameters>

```

Response examples

`XML` format

``` {#xml_return_success_demo}
<AssociatePhysicalConnectionToVirtualBorderRouterResponse>
	  <RequestId>980960B0-2969-40BF-8542-EBB34FD358AB</RequestId>
    </AssociatePhysicalConnectionToVirtualBorderRouterResponse>
```

`JSON` format

``` {#json_return_success_demo}
{
	"RequestId":"980960B0-2969-40BF-8542-EBB34FD358AB"
}
```

## Errors {#section_hy1_guh_be6 .section}

|HTTP status code|Error code|Error message|Description|
|----------------|----------|-------------|-----------|
|404|InvalidInstanceId.NotFound|The specified Instance does not exist in the specified region.|The specified instance does not exist in the specified region.|
|404|InvalidVbrId.NotFound|The specified VirutalBorderRouter does not exist in our records.|The specified VBR does not exist.|
|400|InvalidOperation.RouterInterfaceNotDeleted|The specified VirutalBorderRouter still has routerInterface.|The specified VBR is associated with router interfaces.|
|400|InvalidOperation.OperationNotAllowedInState|The specified VirutalBorderRouter is in invalid state.|The status of the VBR does not permit this operation.|
|403|Forbidden.OperationNotAllowedByUser|The caller is not allowed to delete the specified VirtualBorderRouter.|You are not allowed to delete the specified VBR.|
|403|Forbidden.MultiVlanRi|Multiple vlan router interfaces are found.|Multiple VLAN router interfaces exist.|
|403|Forbidden.NoRiFound|No vlan router interfaces are found.|No VLAN router interface is available.|
|400|InvalidStatus.NotAllowed|Invalid virtual border router status.|The status of the VBR does not permit this operation.|
|404|InvalidRegionId.NotFound|The specified RegionId is not found.|The specified region ID is invalid. Please check if the cloud service is available in the specified region.|
|400|InvalidPhysicalConnectionId.NotFound|The specified PhysicalConnectionId is not found.|The specified physical connection ID is invalid.|
|400|InvalidVlanId.Used|The specified VlanId has been used.|The specified VLAN is already occupied.|
|400|MissingParameter|The input parameter 'PhysicalConnectionId' that is mandatory for processing this request is not supplied.|The PhysicalConnectionId parameter must be specified.|
|400|InvalidPhysicalConnectionId.NotEnabled|The specified PhysicalConnectionId is not in Enabled state.|The status of the specified physical connection does not permit this operation.|
|404|InvalidVbrOwnerId.NotFound|The specified VbrOwnerId is not valid.|The value of the VbrOwnerId parameter is invalid.|
|400|MissingParameter|The input parameter 'VlanId' that is mandatory for processing this request is not supplied.|The VlanId parameter must be specified.|
|400|InvalidVlanId.Malformed|The specified VlanId is not valid.|The specified value of the VlanId parameter is invalid.|
|400|InvalidCircuitCode.Malformed|The specified CircuitCode is not valid.|The specified value of the CircuitCode parameter is invalid.|
|400|MissingParameter|The input parameter 'LocalGatewayIp' that is mandatory for processing this request is not supplied.|The LocalGatewayIp parameter must be specified.|
|400|InvalidLocalGatewayIp.Malformed|The specified LocalGatewayIp is not valid.|The IP address of the local gateway is invalid.|
|400|MissingParameter|The input parameter 'PeerGatewayIp' that is mandatory for processing this request is not supplied.|The PeerGatewayIp parameter must be specified.|
|400|InvalidPeerGatewayIp.Malformed|The specified PeerGatewayIp is not valid.|The specified value of the PeerGatewayIp parameter is invalid.|
|400|MissingParameter|The input parameter 'PeeringSubnetMask' that is mandatory for processing this request is not supplied.|The PeeringSubnetMask parameter must be specified.|
|400|InvalidPeeringSubnetMask.Malformed|The specified PeeringSubnetMask is not valid.|The specified value of the PeeringSubnetMask parameter is invalid.|
|403|Forbidden.LocalGatewayIpNotAllowedByCaller|The caller is not allowed to specify the LocalGatewayIp parameter.|You are not allowed to specify the LocalGatewayIp parameter.|
|403|Forbidden.PeerGatewayIpNotAllowedByCaller|The caller is not allowed to specify the PeerGatewayIp parameter.|You are not allowed to specify the PeerGatewayIp parameter.|
|403|Forbidden.PeeringSubnetMaskNotAllowedByCaller|The caller is not allowed to specify the PeeringSubnetMask parameter.|You are not allowed to specify the PeeringSubnetMask parameter.|
|403|Forbidden.NameNotAllowedByCaller|The caller is not allowed to specify the Name parameter.|You are not allowed to specify the Name parameter.|
|403|Forbidden.DescriptionNotAllowedByCaller|The caller is not allowed to specify the Description parameter.|You are not allowed to specify the Description parameter.|
|400|InvalidName.Malformed|The specified ? Name? is not valid.|The format of the name is invalid.|
|400|InvalidDescription.Malformed|The specifid ? Description? is not valid.|The format of the description is invalid. The description must be 2 to 256 characters in length. It cannot start with http:// or https://.|
|400|QuotaExceeded.vbrPerpConn|Virtual boarder router per PhysicalConnection quota exceed.|The VBR quota for the physical connection is exceeded.|
|400|EXCEED\_ASSOCIATE\_MAX\_NUM|assocaite virtual boarder num too many.|The quota of associated VBRs is exceeded.|
|400|InvalidIP.Malformed|Ip malformed.|The IP address format is invalid.|
|400|InvalidIp.NotSameSubnet|Local gateway ip and peer gateway ip are not in the same subnet.|The local gateway IP address and the peer gateway IP address do not belong to the same subnet.|
|400|InvalidStatus.StatusNotEnabled|The physical connection status is invalid.|The status of the physical connection does not permit this operation.|
|400|PHYSICAL\_NOT\_ALLOW\_ASSOCIATE\_VBR|The specified operation not allow.|The operation failed because the physical connection is associated with VBRs.|

For a list of error codes, visit the [API Error Center](https://error-center.alibabacloud.com/status/product/Vpc).

