# CreateVirtualBorderRouter {#doc_api_Vpc_CreateVirtualBorderRouter .reference}

Creates a Virtual Border Router \(VBR\).

If you create a VBR for the current account, the VBR enters the **Enabled** state after it is created. If you create a VBR for other accounts, the status of the created VBR is **Unconfirmed**. Confirmation from the other account is required.

## Debug {#apiExplorer .section}

Use [OpenAPI Explorer](https://api.aliyun.com/#product=Vpc&api=CreateVirtualBorderRouter) to perform debug operations and generate SDK code examples.

## Request parameters {#parameters .section}

|Parameter|Type|Required?|Example value|Description|
|---------|----|---------|-------------|-----------|
|Action|String |Yes|CreateVirtualBorderRouter|The name of this action.

 Value: **CreateVirtualBorderRouter**

 |
|PhysicalConnectionId|String|Yes|pc-xxxxxxxxx|The ID of the physical connection.

 |
|RegionId|String|Yes|cn-shanghai|The ID of the region to which the physical connection belongs. To query the region ID, call [DescribeRegions](~~36063~~).

 |
|VlanId|Integer|Yes|10|The VLAN ID of the VBR. Value range: 1 to 2999

 **Note:** Only the owner of the physical connection can specify this parameter. The VLAN IDs of two VBRs in the same physical connection must be different.

 |
|CircuitCode|String|No|longtel001|Optional. The leased line code provided by the service provider for the physical connection.

 **Note:** This parameter can only be specified by the owner of the physical connection.

 |
|ClientToken|String|No|02fb3da4-130e-11e9-8e44-0016e04115b|Optional. The client token. It is used to guarantee the idempotence of requests. The value of this parameter is generated by the client and is unique among different requests. It can be 1 to 64 ASCII characters in length.

 |
|Description|String|No|The description of the VBR.|Optional. The description of the VBR. The description must be 2 to 256 characters in length. It must start with a letter or a Chinese character, and cannot start with `http://` or `https://`.

 |
|LocalGatewayIp|String|No|116.62.222.28|Optional. The Alibaba Cloud-side IP address used by the VBR.

 |
|Name|String|No|test|Optional. The name of the VBR. The name must be 2 and 128 characters in length and can contain letters, numbers, periods \(.\), underscores \(\_\), and hyphens \(-\). The name must start with a letter or a Chinese character. It cannot start with `http://` or `https://`.

 |
|PeerGatewayIp|String|No|116.62.222.28|Optional. The customer-side IP address used by the VBR. Only the VBR owner can specify or modify this parameter. This parameter is required when you create a VBR for the physical connection owner, and it cannot be specified when you create a VBR for other accounts.

 |
|PeeringSubnetMask|String|No|255.255.255.252|Optional. The subnet mask for the Alibaba Cloud-side IP address and the customer-side IP address. The two IP addresses must be in the same subnet.

 |
|VbrOwnerId|Long|No|10|Optional. The account ID of the VBR owner. The default value is the account ID of the current user, namely the owner of the physical connection.

 |

## Response parameters {#resultMapping .section}

|Parameter|Type|Example value|Description|
|---------|----|-------------|-----------|
|VbrId|String|vbr-bp1jcg5cmxjbl9xgc58bw|The ID of the VBR.

 |
|RequestId|String|4EC47282-1B74-4534-BD0E-403F3EE64CAF|The request ID.

 |

## Examples {#demo .section}

Request example

``` {#request_demo}

http(s)://[Endpoint]/? Action=CreateVirtualBorderRouter
&PhysicalConnectionId=pc-xxxxxxxxx
&RegionId=cn-shanghai
&VlanId=10
&<CommonParameters>

```

Response examples

`XML` format

``` {#xml_return_success_demo}
<CreateRouterInterfaceResponse>
  <RequestId>980960B0-2969-40BF-8542-EBB34FD358AB</RequestId>
  <VbrId>vbr-2zecmmvg5gvu8i4telkhw</VbrId>
</CreateRouterInterfaceResponse>

```

`JSON` format

``` {#json_return_success_demo}
{
	"CreateRouterInterfaceResponse":{
		"RequestId":"980960B0-2969-40BF-8542-EBB34FD358AB",
		"VbrId":"vbr-2zecmmvg5gvu8i4telkhw"
	}
}
```

## Error codes { .section}

|HTTP status code|Error code|Error message |Description|
|----------------|----------|--------------|-----------|
|404|InvalidRegionId.NotFound|The specified RegionId is not found.|The specified region ID is invalid. Please check if the cloud service is available in the specified region.|
|400|InvalidPhysicalConnectionId.NotFound|The specified PhysicalConnectionId is not found.|The specified physical connection ID is invalid.|
|400|InvalidVlanId.Used|The specified VlanId has been used.|The specified VLAN is already occupied.|
|400|MissingParameter|The input parameter 'PhysicalConnectionId' that is mandatory for processing this request is not supplied.|The PhysicalConnectionId parameter must be specified.|
|400|InvalidPhysicalConnectionId.NotEnabled|The specified PhysicalConnectionId is not in Enabled state.|The status of the specified physical connection does not permit this operation.|
|404|InvalidVbrOwnerId.NotFound|The specified VbrOwnerId is not valid.|The value of the VbrOwnerId parameter is invalid.|
|400|InvalidVlanId.Malformed|The specified VlanId is not valid.|The value of the VlanId parameter is invalid.|
|400|InvalidCircuitCode.Malformed|The specified CircuitCode is not valid.|The specified value of the CircuitCode parameter is invalid.|
|400|MissingParameter|The input parameter 'LocalGatewayIp' that is mandatory for processing this request is not supplied.|The LocalGatewayIp parameter must be specified.|
|400|InvalidLocalGatewayIp.Malformed|The specified LocalGatewayIp is not valid.|The IP address of the local gateway is invalid.|
|400|MissingParameter|The input parameter 'PeerGatewayIp' that is mandatory for processing this request is not supplied.|The PeerGatewayIp parameter must be specified.|
|400|MissingParameter|The input parameter 'PeeringSubnetMask' that is mandatory for processing this request is not supplied.|The PeeringSubnetMask parameter must be specified.|
|400|InvalidPeeringSubnetMask.Malformed|The specified PeeringSubnetMask is not valid.|The specified value of the PeeringSubnetMask parameter is invalid.|
|403|Forbidden.LocalGatewayIpNotAllowedByCaller|The caller is not allowed to specify the LocalGatewayIp parameter.|You are not allowed to specify the LocalGatewayIp parameter.|
|403|Forbidden.PeerGatewayIpNotAllowedByCaller|The caller is not allowed to specify the PeerGatewayIp parameter.|You are not allowed to specify the PeerGatewayIp parameter.|
|403|Forbidden.PeeringSubnetMaskNotAllowedByCaller|The caller is not allowed to specify the PeeringSubnetMask parameter.|You are not allowed to specify the PeeringSubnetMask parameter.|
|403|Forbidden.NameNotAllowedByCaller|The caller is not allowed to specify the Name parameter.|You are not allowed to specify the Name parameter.|
|403|Forbidden.DescriptionNotAllowedByCaller|The caller is not allowed to specify the Description parameter.|You are not allowed to specify the Description parameter.|
|400|InvalidName.Malformed|The specified ? Name? is not valid.|The specified name is invalid.|
|400|InvalidDescription.Malformed|The specifid ? Description? is not valid.|The description is invalid. The description must be 2 to 256 characters in length. It cannot start with http:// or https://.|
|400|QuotaExceeded.vbrPerpConn|Virtual boarder router per PhysicalConnection quota exceed.|The VBR quota for the physical connection is exceeded.|
|400|QuotaExceeded.freevbr|Free virtual boarder router quota exceed.|The VBR quota is exceeded.|
|400|InvalidIp.NotSameSubnet|Local gateway ip and peer gateway ip are not in the same subnet.|The local gateway IP address and the peer gateway IP address are not in the same subnet.|
|404|CROSS\_BID.FORBIDDEN|Create VBR across bid is illegal|You cannot create a VBR for a user of another site.|

